<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title> Reset Password</title>
    <!-- <link rel="stylesheet" href="/static/css/login.css">
    <link rel="stylesheet" href="/static/css/register.css"> -->
    <link rel="stylesheet" th:href="@{/css/login.css}">
    <link rel="stylesheet" th:href="@{/css/register.css}"/>
</head>
</head>
<body>
<div class="container">
    <div class="row mt-2">
        <div th:if="${param.reset_seccess}" class="param">
            <p class="alert alert-danger">You have successfully reset your password, Please login here.</p>
        </div>

    </div>
    <form th:action="@{/registration/reset-password}" method="post" class="form">
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="hidden" name="token" th:value="${token}" />

        <h2 class="h2"> Reset your password</h2>
        <div class="form-control">
        <div class="form-control">
            <div class="form-con">
                <input type="password" id="password" autofocus="autofocus"
                       required class="form-control" name="password" placeholder="New password">
            </div>

            <div class="form-con">
                <input type="password" id="confirm" autofocus="autofocus"
                       required class="form-control" name="confirm" placeholder="Confirm password" oninput="checkConfirmPassword(this)">
            </div>
        </div>

        <div class="but-div">
            <button type="submit" class="btn btn-success" id="login" name="login">Reset Password</button>
        </div>
        </div>
    </form>
</div>

<script type="text/javascript">
      function checkConfirmPassword() {
           const password = document.querySelector("input[name=password]");
           const confirm = document.querySelector("input[name=confirm]");

           if (confirm.value === password.value) {
               confirm.setCustomValidity("");
           }else {
               confirm.setCustomValidity("Confirm password does not match");
           }
      }
</script>
</body>
</html>